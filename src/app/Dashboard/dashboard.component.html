<div class="row layout-top-spacing">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
  <div *ngIf="Auth.isAdmin()" class="container bootstrap snippets bootdey">
    <div class="row">
      <div class="col">
        <div class="mini-stat clearfix bg-folders rounded">
          <span class="mini-stat-icon"><em class="fa fa-folder-open fg-folders"></em></span>
          <div class="mini-stat-info">
            <span>{{FolTotal}}</span>
            Total Dossiers
          </div>
        </div>
      </div>
      <div class="col">
        <div class="mini-stat clearfix bg-import rounded">
          <span class="mini-stat-icon"><em class="fa fa-folder fg-import"></em></span>
          <div class="mini-stat-info">
            <span>{{ImportTotal}}</span>
            Total Import
          </div>
        </div>
      </div>
      <div class="col">
        <div class="mini-stat clearfix bg-export rounded">
          <span class="mini-stat-icon"><em class="fa fa-folder fg-export"></em></span>
          <div class="mini-stat-info">
            <span>{{ExportTotal}}</span>
            Total Export
          </div>
        </div>
      </div>
      <div class="col">
        <div class="mini-stat clearfix bg-clients rounded">
          <span class="mini-stat-icon"><em class="fa fa-users fg-client"></em></span>
          <div class="mini-stat-info">
            <span>{{ClientTotal}}</span>
            Total Users
          </div>
        </div>
      </div>
      <div class="col">
        <div class="mini-stat clearfix bg-employees rounded">
          <span class="mini-stat-icon"><em class="fa fa-user fg-employee"></em></span>
          <div class="mini-stat-info">
            <span>{{EmpTotal}}</span>
            Total Agents
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="Auth.isEmployee()" class="container bootstrap snippets bootdey">
    <div class="row">
      <div class="col">
        <div class="mini-stat clearfix bg-folders rounded">
          <span class="mini-stat-icon"><em class="fa fa-folder-open fg-folders"></em></span>
          <div class="mini-stat-info">
            <span>{{EmployeeFolders}}</span>
            Total Dossiers
          </div>
        </div>
      </div>
      <div class="col">
        <div class="mini-stat clearfix bg-import rounded">
          <span class="mini-stat-icon"><em class="fa fa-folder fg-import"></em></span>
          <div class="mini-stat-info">
            <span>{{EmployeeFoldersImport}}</span>
            Total Import
          </div>
        </div>
      </div>
      <div class="col">
        <div class="mini-stat clearfix bg-export rounded">
          <span class="mini-stat-icon"><em class="fa fa-folder fg-export"></em></span>
          <div class="mini-stat-info">
            <span>{{EmployeeFoldersExport}}</span>
            Total Export
          </div>
        </div>
      </div>
      <div class="col">
        <div class="mini-stat clearfix bg-clients rounded">
          <span class="mini-stat-icon"><em class="fa fa-users fg-client"></em></span>
          <div class="mini-stat-info">
            <span>{{EmployeeFoldersEnattente}}</span>
             En Traitement
          </div>
        </div>
      </div>
      <div class="col">
        <div class="mini-stat clearfix bg-employees rounded">
          <span class="mini-stat-icon"><em class="fa fa-user fg-employee"></em></span>
          <div class="mini-stat-info">
            <span>{{EmployeeFoldersCompleted}}</span>
            Terminer
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="Auth.isClient()" class="container bootstrap snippets bootdey">
    <div class="row">
      <div class="col">
        <div class="mini-stat clearfix bg-folders rounded">
          <span class="mini-stat-icon"><em class="fa fa-folder-open fg-folders"></em></span>
          <div class="mini-stat-info">
            <span>{{ClientFolders}}</span>
            Total
          </div>
        </div>
      </div>
      <div class="col">
        <div class="mini-stat clearfix bg-import rounded">
          <span class="mini-stat-icon"><em class="fa fa-folder fg-import"></em></span>
          <div class="mini-stat-info">
            <span>{{ClientFoldersImport}}</span>
            Import
          </div>
        </div>
      </div>
      <div class="col">
        <div class="mini-stat clearfix bg-export rounded">
          <span class="mini-stat-icon"><em class="fa fa-folder fg-export"></em></span>
          <div class="mini-stat-info">
            <span>{{ClientFoldersExport}}</span>
            Export
          </div>
        </div>
      </div>
      <div class="col">
        <div class="mini-stat clearfix bg-clients rounded">
          <span class="mini-stat-icon"><em class="fa fa-users fg-client"></em></span>
          <div class="mini-stat-info">
            <span>{{ClientFoldersEnattente}}</span>
            Attente
          </div>
        </div>
      </div>
      <div class="col">
        <div class="mini-stat clearfix bg-employees rounded">
          <span class="mini-stat-icon"><em class="fa fa-user fg-employee"></em></span>
          <div class="mini-stat-info">
            <span>{{ClientFoldersEntraitement}}</span>
            Traitement
          </div>
        </div>
      </div>
      <div class="col">
        <div class="mini-stat clearfix bg-employees rounded">
          <span class="mini-stat-icon"><em class="fa fa-user fg-employee"></em></span>
          <div class="mini-stat-info">
            <span>{{ClientFoldersCompleted}}</span>
            Terminer
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-xl-6 col-lg-12 col-md-12 col-sm-12 col-12 layout-top-spacing">
  <div class="skills layout-spacing ">
    <div class="widget-content widget-content-area">
      <div class="row">
        <div class="col-lg-10">
          <h3>Dossiers Avec Date </h3>
        </div>
        <div class="col">
          <div class="task-action">
            <div class="dropdown">
              <a class="dropdown-toggle" href="#" role="button" id="pendingTask" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-horizontal"><circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle></svg>
              </a>

              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="pendingTask" style="will-change: transform;">
                <a class="dropdown-item" (click)="getAllDossierperyear(anio)">{{anio}}</a>
                <a class="dropdown-item" (click)="getAllDossierperyear(anio - 1)">{{anio - 1}}</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="chart-wrapper">
        <canvas baseChart
                [datasets]="barChartData"
                [labels]="barChartLabels"
                [options]="barChartOptions"
                [plugins]="barChartPlugins"
                [legend]="barChartLegend"
                [chartType]="barChartType">
        </canvas>
      </div>
    </div>
  </div>
</div>
  <div class="col-xl-6 col-lg-12 col-md-12 col-sm-12 col-12 layout-top-spacing">
    <div class="skills layout-spacing ">
      <div class="widget-content widget-content-area">
        <div class="row">
          <div class="col-lg-10">
            <h3>Import / Export : Statistiques </h3>
          </div>
          <div class="col">
            <div class="task-action">
              <div class="dropdown">
                <a class="dropdown-toggle" href="#" role="button" id="Task" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-horizontal"><circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle></svg>
                </a>
                <div *ngIf="Auth.isAdmin()" class="dropdown-menu dropdown-menu-right" aria-labelledby="Task" style="will-change: transform;">
                  <a class="dropdown-item" (click)="getImportExportwithYear(anio)">{{anio }}</a>
                  <a class="dropdown-item" (click)="getImportExportwithYear(anio - 1)">{{anio -1}}</a>
                </div>
                <div *ngIf="Auth.isClient()" class="dropdown-menu dropdown-menu-right" aria-labelledby="Task" style="will-change: transform;">
                  <a class="dropdown-item" (click)="getDossiersCLientPerYearAndType(anio)">{{anio }}</a>
                  <a class="dropdown-item" (click)="getDossiersCLientPerYearAndType(anio - 1)">{{anio -1}}</a>
                </div>
                <div *ngIf="Auth.isEmployee()" class="dropdown-menu dropdown-menu-right" aria-labelledby="Task" style="will-change: transform;">
                  <a class="dropdown-item" (click)="getDossiersEmployeeImportCountPeryear(anio)">{{anio }}</a>
                  <a class="dropdown-item" (click)="getDossiersEmployeeImportCountPeryear(anio - 1)">{{anio -1}}</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="chart-wrapper">
          <canvas baseChart
                  [data]="pieChartData"
                  [labels]="pieChartLabels"
                  [chartType]="pieChartType"
                  [colors]="pieChartColors"
                  [options]="pieChartOptions"
                  [plugins]="pieChartPlugins"
                  [legend]="pieChartLegend">
          </canvas>
        </div>
      </div>
    </div>
  </div>
</div>

<div  *ngIf="Auth.isEmployee() || Auth.isAdmin()" class="row layout-top-spacing">

  <div  class="col-xl-6 col-lg-12 col-md-12 col-sm-12 col-12 layout-spacing">
    <div class="widget widget-table-two">

      <div class="widget-heading">
        <h5 class="">Top 5 Clients :</h5>
      </div>

      <div class="widget-content">
        <div class="table-responsive">
          <table class="table">
            <thead>
            <tr>
              <th scope="col"><div class="th-content">Nom </div></th>
              <th scope="col"><div class="th-content">Email</div></th>
              <th scope="col"><div class="th-content">Adresse</div></th>
              <th scope="col"><div class="th-content">Nb Dossiers</div></th>

            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let client of Clients">
              <td ><div ><span>{{client.username}}</span></div></td>
              <td ><div class="text-primary">{{client.email}}</div></td>
              <td ><div class="td-content product-invoice">{{client.address}}</div></td>
              <td ><div class="td-content product-invoice">{{client.countDossiers}}</div></td>
             </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div  class="col-xl-6 col-lg-12 col-md-12 col-sm-12 col-12 layout-spacing">
    <div class="widget widget-table-three">

      <div class="widget-heading">
        <h5 class="">Top 5 Agents :</h5>
      </div>

      <div class="widget-content">
        <div class="table-responsive">
          <table class="table table-scroll">
            <thead>
            <tr>
              <th scope="col"><div class="th-content">Nom</div></th>
              <th scope="col"><div class="th-content th-heading">Email</div></th>
              <th scope="col"><div class="th-content th-heading">Nombre Dossiers</div></th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let emp of Employee">
              <td ><div class="td-content customer-name"><span>{{emp.username}}</span></div></td>
              <td ><div class="text-primary">{{emp.email}}</div></td>
              <td ><div class="td-content product-invoice">{{emp.countReservations}}</div></td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div  class="col-xl-9 col-lg-12 col-md-12 col-sm-12 col-12 layout-spacing">
    <div class="widget widget-chart-three">
      <div class="widget-heading">
        <div class="">
          <h5 class="">Calendrier</h5>
        </div>
      </div>

      <div class="widget-content" style="position: relative;">
       <app-callendarview></app-callendarview>
        </div>
  </div>
</div>
  <div   class="col-xl-3 col-lg-12 col-md-12 col-sm-12 col-12 layout-spacing">
      <div class="widget widget-chart-two">
        <div class="widget-heading">
        <h5 class="">Ajouter Events</h5>
      </div>
        <div class="widget-content" style="position: relative;">

      </div>
  </div>
  </div>
</div>
